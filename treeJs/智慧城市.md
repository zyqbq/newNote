### 创建项目

**02.创建智慧城市项目并配置glsl写法支持**

智慧工厂可以参考

### 安装threejs

yarn add three --save

### 建筑数据

shp模型

搜索 如shp河流 shp北京

### 平时练习获取数据

搜索关键词：shp 河流  shp 北京   shp高铁可以获得很多资料

### shp转GeoJSON

https://mapshaper.org/  一个在线转格式平台

github代码地址：https://github.com/mbloch/mapshaper

文章提到过：https://blog.csdn.net/gisboygogogo/article/details/74056563

可以使用shp格式的文件转GeoJSON来使用

### threejs加载解析shp的库shp.js

github：https://github.com/kig/shp.js/

链接：https://www.bram.us/2012/07/30/shp-js-javascript-shapefile-parser/

### public目录

gltf放在静态文件中打包

目录："./"为public目录

### 线性雾创建

```JavaScript
// 100对应物体自身颜色，2500对应雾的颜色白色0xffffff
scene.fog = new THREE.Fog(0xffffff, 100, 2500); //
```

### 雾化算法原理

雾化的算法原理，就是根据物体距离相机的远近，把物体原来颜色和雾的雾颜色进行插值计算得到一个新的颜色，赋值给物体。

### 课程案例代码设置

```javascript
renderer.setClearColor(0x001111, 1); //设置背景颜色
```

```javascript
// 设置雾化效果，雾的颜色和背景颜色相近，这样远处三维场景和背景颜色融为一体
// 结合相机参数设置Fog的参数2和参数3
超过参数3就是雾的颜色
scene.fog = new THREE.Fog(0x001111, 10, 12000);
```