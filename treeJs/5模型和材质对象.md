点线面模型都是 Obeject3D 的

![image-20230723094432565](../../assests/image-20230723094432565.png)

### 三维向量

```js
//new THREE.Vector3()实例化一个三维向量对象
const v3 = new THREE.Vector3(0, 0, 0);
console.log("v3", v3);
v3.set(10, 0, 0); //set方法设置向量的值
v3.x = 100; //访问x、y或z属性改变某个分量的值
```

### 改变 mesh 模型的平移缩放

```js
// .position的值是Vector3，意味着你想改变.position,可以查询文档Vector3类
// 直接设置网格模型的位置
mesh.position.set(100, 100, 100);
mesh.position.x = 100; //设置模型的x坐标

// 网格模型沿着x轴方向平移100,
mesh.translateX(100);

mesh.scale.y = 3; //y方向放大3倍
// 网格模型xyz方向分别缩放0.5,1.5,2倍
mesh.scale.set(0.5, 1.5, 2);
```

### 向量转换为单位向量

xyz 方向的合向量长度为 1

![image-20230723100309065](../../assests/image-20230723100309065.png)

### 模型沿着特定方向移动

![image-20230723100629158](../../assests/image-20230723100629158.png)

### 欧拉对象

```js
// 创建一个欧拉对象，表示绕着x、y、z轴分别旋转45度，0度，90度
// const Euler = new THREE.Euler( Math.PI/4,0, Math.PI/2);
const Euler = new THREE.Euler();
// 通过xyz分量属性定义和参数一样
Euler.x = Math.PI / 4;
Euler.y = 0;
Euler.z = Math.PI / 2;
```

### 模型的旋转缩放

```js
//绕y轴的角度设置为60度
mesh.rotation.y += Math.PI / 3;
//绕y轴的角度增加60度
mesh.rotation.y += Math.PI / 3;
//绕y轴的角度减去60度
mesh.rotation.y -= Math.PI / 3;

// 通过模型的旋转方法，也可以改变角度属性.rotation
mesh.rotateY(Math.PI / 2); // 绕着Y轴旋转90度
//控制台查看：旋转方法，改变了rotation属性
console.log("mesh.rotation", mesh.rotation);
```

### 设置颜色color

网格材质都有颜色属性

![image-20230723115052059](../../assests/image-20230723115052059.png)

改变颜色

![image-20230723115653690](../../assests/image-20230723115653690.png)

![image-20230723120006121](../../assests/image-20230723120006121.png)

![image-20230723120027935](../../assests/image-20230723120027935.png)

### 改变材质颜色

```js
// 浏览器控制台查看材质颜色属性的属性值
console.log('material.color',material.color);
rgb在0-1区间内
```

```js
// 十六进制颜色
material.color.set(0x00ff00);

// 前端CSS风格颜色值：'#00ff00'、'rgb(0,255,0)'等形式
// material.color.set('#00ff00');
// material.color.set('rgb(0,255,0)');
```

### 网格材质

父类 Material

![image-20230723120433402](../../assests/image-20230723120433402.png)

### 材质的透明度 side

继承自 Material 的 opacity 0-1 0 为完全透明

结合材质的.transparent true 为开启透明

side 值为 012

```js
// material.side = THREE.FrontSide//正面 0
// material.side = THREE.BackSide;//背面可以看到 1
material.side = THREE.DoubleSide; //双面可见 2
```

### 改变网格模型的材质颜色 几何体顶点数据

```js
// 访问模型材质,并设置材质的颜色属性
mesh.material.color.set(0xffff00);
// 访问模型几何体,并平移几何体顶点数据
mesh.geometry.translate(0, 100, 0);
```

### 改变模型的位置

```js
mesh2.position.x = 100;
```

### 共享材质颜色冲突问题

```js
mesh.material.color.set(0xffff00);
```

### 克隆和复制 5.6

克隆和复制的区别

克隆是新创建一个对象

复制是将一个对象的属性同步给另外的对象 两个对象的属性保持一致

克隆.clone()、复制.copy()是 threejs 很多对象都具有的方法，比如三维向量对象 Vector3、网格模型 Mesh、几何体、材质。

三维向量克隆和复制

```js
const v1 = new THREE.Vector3(1, 2, 3);
//v2是一个新的Vector3对象，和v1的.x、.y、.z属性值一样
const v2 = v1.clone();

const v3 = new THREE.Vector3(4, 5, 6);
//读取v1.x、v1.y、v1.z的赋值给v3.x、v3.y、v3.z
v3.copy(v1);
v3会和v1一样;
```

网格克隆 共享的是原来的材质和几何体

```js
const mesh2 = mesh.clone();
```

同时克隆材质和几何体 改变位置和颜色就不会影响之前的网格模型

```js
mesh2.geometry = mesh.geometry.clone();
mesh2.material = mesh.material.clone();
```

在网格模型 mesh2 正上方 y 克隆一个模型 mesh

```js
mesh.position.copy(mesh2.position); //1. 第1步位置重合
mesh.position.y += 100; //1. 第2步mesh在原来y的基础上增加100
```

物体同步旋转

```js
// 渲染循环
function render() {
  // 旋转动画
  // mesh.rotation.y+=0.01;
  mesh.rotateY(0.01);
  // 同步mesh2和mesh的姿态角度一样，不管mesh姿态角度怎么变化，mesh2保持同步
  mesh2.rotation.copy(mesh.rotation);
  renderer.render(scene, camera);
  requestAnimationFrame(render);
}
render();
```
